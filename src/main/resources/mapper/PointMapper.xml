<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.project.mapper.PointMapper">
 
 	<insert id="insertPoint" parameterType="com.project.domain.PointDomain">
	    INSERT INTO point (id, member_id, category, point, type, created_at, deleted_at, status)
	    VALUES (#{id, jdbcType=INTEGER}, #{memberId, jdbcType=INTEGER}, #{category, jdbcType=VARCHAR},
	            #{point, jdbcType=NUMERIC}, #{type, jdbcType=VARCHAR},
	            SYSDATE, #{deletedAt, jdbcType=TIMESTAMP}, #{status})
	</insert>
	
	<select id="findPointByUser" parameterType="long" resultType="com.project.domain.PointDomain">
	    SELECT id, member_id, category, point, type, created_at, deleted_at, status
	    FROM point
	    WHERE member_id = #{memberId}
	</select>
	
	<select id="getTotalPoints" parameterType="long" resultType="int">
        SELECT SUM(point)
        FROM point
        WHERE member_id = #{memberId}
    </select>
 
 </mapper>
  